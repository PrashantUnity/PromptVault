@using PromptsValut.Constants

@if (IsVisible)
{
    <div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50" @onclick="CloseModal">
        <div class="bg-card border border-border rounded-lg max-w-4xl w-full h-[90vh] mx-4 flex flex-col shadow-xl backdrop-blur-sm" @onclick:stopPropagation="true">
            <!-- Header -->
            <div class="p-6 border-b border-border">
                <div class="flex items-center justify-between">
                    <div>
                        <h2 class="text-2xl font-semibold text-foreground flex items-center gap-2">
                            <div class="w-8 h-8 bg-gradient-to-br from-blue-600 to-violet-600 rounded-lg flex items-center justify-center">
                                <span class="text-white font-bold text-sm">PV</span>
                            </div>
                            How to Use PromptVault
                        </h2>
                        <p class="text-sm text-muted-foreground mt-1">Learn how to discover, customize, and use AI prompts effectively.</p>
                    </div>
                    <button @onclick="CloseModal" class="p-2 rounded-md hover:bg-accent transition-colors">
                        @((MarkupString)SvgIcons.X.Replace("h-4 w-4", "h-5 w-5"))
                    </button>
                </div>
            </div>
            
            <!-- Tab Navigation -->
            <div class="px-6 py-4">
                <div class="flex items-center space-x-1 bg-muted rounded-lg p-1">
                    <button @onclick="() => SetActiveTab(0)" class="flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors @(activeTab == 0 ? "bg-card text-foreground shadow-sm" : "text-muted-foreground hover:text-foreground")">
                        @((MarkupString)SvgIcons.PlayCircle)
                        <span class="ml-2">Getting Started</span>
                    </button>
                    <button @onclick="() => SetActiveTab(1)" class="flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors @(activeTab == 1 ? "bg-card text-foreground shadow-sm" : "text-muted-foreground hover:text-foreground")">
                        @((MarkupString)SvgIcons.Search)
                        <span class="ml-2">Browsing & Search</span>
                    </button>
                    <button @onclick="() => SetActiveTab(2)" class="flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors @(activeTab == 2 ? "bg-card text-foreground shadow-sm" : "text-muted-foreground hover:text-foreground")">
                        @((MarkupString)SvgIcons.Heart)
                        <span class="ml-2">Favorites & History</span>
                    </button>
                    <button @onclick="() => SetActiveTab(3)" class="flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors @(activeTab == 3 ? "bg-card text-foreground shadow-sm" : "text-muted-foreground hover:text-foreground")">
                        @((MarkupString)SvgIcons.Plus)
                        <span class="ml-2">Create & Manage</span>
                    </button>
                    <button @onclick="() => SetActiveTab(4)" class="flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors @(activeTab == 4 ? "bg-card text-foreground shadow-sm" : "text-muted-foreground hover:text-foreground")">
                        @((MarkupString)SvgIcons.Lightbulb)
                        <span class="ml-2">Tips & Tricks</span>
                    </button>
                </div>
            </div>
            
            <!-- Content Area -->
            <div class="flex-1 overflow-y-auto p-6 tab-content">
                @if (activeTab == 0)
                {
                    <!-- Getting Started Tab -->
                    <div class="space-y-6">
                        <div>
                            <h3 class="text-lg font-semibold mb-3 flex items-center gap-2 text-foreground">
                                @((MarkupString)SvgIcons.Target.Replace("h-4 w-4", "h-5 w-5"))
                                Welcome to PromptVault
                            </h3>
                            <p class="text-muted-foreground mb-4">PromptVault is your personal AI prompt library designed to help you get better results from AI tools like ChatGPT, Claude, and others. Each prompt is carefully crafted and can be customized to fit your specific needs.</p>
                            
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div class="p-4 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-lg border border-blue-200 dark:border-blue-800">
                                    <h4 class="font-medium mb-2 flex items-center gap-2 text-foreground">
                                        @((MarkupString)SvgIcons.Target.Replace("h-4 w-4", "h-4 w-4").Replace("stroke=\"currentColor\"", "stroke=\"#3b82f6\""))
                                        Pre-built Prompts
                                    </h4>
                                    <p class="text-sm text-muted-foreground">Ready-to-use prompts for marketing, development, creative writing, business, and more</p>
                                </div>
                                <div class="p-4 bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-lg border border-green-200 dark:border-green-800">
                                    <h4 class="font-medium mb-2 flex items-center gap-2 text-foreground">
                                        @((MarkupString)SvgIcons.Zap.Replace("stroke=\"currentColor\"", "stroke=\"#10b981\""))
                                        Dynamic Customization
                                    </h4>
                                    <p class="text-sm text-muted-foreground">Fill in placeholders to personalize prompts for your specific use case</p>
                                </div>
                            </div>
                        </div>

                        <div>
                            <h3 class="text-lg font-semibold mb-3 flex items-center gap-2 text-foreground">
                                @((MarkupString)SvgIcons.PlayCircle.Replace("h-4 w-4", "h-5 w-5"))
                                Quick Start Guide
                            </h3>
                            <p class="text-muted-foreground mb-4">Follow these steps to get started with PromptVault:</p>
                            <div class="space-y-3">
                                <div class="flex items-start gap-3">
                                    <span class="flex-shrink-0 w-6 h-6 bg-primary/10 text-primary rounded-full flex items-center justify-center text-sm font-medium">1</span>
                                    <div>
                                        <h4 class="font-medium text-foreground">Browse Categories</h4>
                                        <p class="text-sm text-muted-foreground">Use the sidebar to filter prompts by category (Marketing, Development, etc.)</p>
                                    </div>
                                </div>
                                <div class="flex items-start gap-3">
                                    <span class="flex-shrink-0 w-6 h-6 bg-primary/10 text-primary rounded-full flex items-center justify-center text-sm font-medium">2</span>
                                    <div>
                                        <h4 class="font-medium text-foreground">Search for Prompts</h4>
                                        <p class="text-sm text-muted-foreground">Use the search bar to find prompts by keywords, tags, or content</p>
                                    </div>
                                </div>
                                <div class="flex items-start gap-3">
                                    <span class="flex-shrink-0 w-6 h-6 bg-primary/10 text-primary rounded-full flex items-center justify-center text-sm font-medium">3</span>
                                    <div>
                                        <h4 class="font-medium text-foreground">View Details</h4>
                                        <p class="text-sm text-muted-foreground">Click on any prompt card to see the full content and customization options</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                }
                else if (activeTab == 1)
                {
                    <!-- Browsing & Search Tab -->
                    <div class="space-y-6">
                        <div>
                            <h3 class="text-lg font-semibold mb-3 flex items-center gap-2 text-foreground">
                                @((MarkupString)SvgIcons.Search.Replace("h-4 w-4", "h-5 w-5"))
                                Finding the Right Prompt
                            </h3>
                            
                            <div class="mb-6">
                                <h4 class="font-medium mb-3 text-foreground">Using Categories</h4>
                                <p class="text-sm text-muted-foreground mb-3">Categories help you find prompts by use case:</p>
                                <div class="flex flex-wrap gap-2">
                                    <span class="px-3 py-1 bg-gradient-to-r from-pink-50 to-rose-50 dark:from-pink-900/20 dark:to-rose-900/20 text-pink-700 dark:text-pink-300 border border-pink-200 dark:border-pink-800 rounded-full text-sm">Marketing</span>
                                    <span class="px-3 py-1 bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 text-green-700 dark:text-green-300 border border-green-200 dark:border-green-800 rounded-full text-sm">Development</span>
                                    <span class="px-3 py-1 bg-gradient-to-r from-purple-50 to-violet-50 dark:from-purple-900/20 dark:to-violet-900/20 text-purple-700 dark:text-purple-300 border border-purple-200 dark:border-purple-800 rounded-full text-sm">Creative Writing</span>
                                    <span class="px-3 py-1 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 text-blue-700 dark:text-blue-300 border border-blue-200 dark:border-blue-800 rounded-full text-sm">Business</span>
                                    <span class="px-3 py-1 bg-gradient-to-r from-orange-50 to-yellow-50 dark:from-orange-900/20 dark:to-yellow-900/20 text-orange-700 dark:text-orange-300 border border-orange-200 dark:border-orange-800 rounded-full text-sm">Education</span>
                                    <span class="px-3 py-1 bg-gradient-to-r from-cyan-50 to-teal-50 dark:from-cyan-900/20 dark:to-teal-900/20 text-cyan-700 dark:text-cyan-300 border border-cyan-200 dark:border-cyan-800 rounded-full text-sm">Technology</span>
                                </div>
                            </div>

                            <div class="mb-6">
                                <h4 class="font-medium mb-3 text-foreground">Search Tips</h4>
                                <ul class="space-y-2 text-sm text-muted-foreground">
                                    <li class="flex items-start gap-2">
                                        <span class="text-primary mt-1">•</span>
                                        Search by prompt title, content, or tags
                                    </li>
                                    <li class="flex items-start gap-2">
                                        <span class="text-primary mt-1">•</span>
                                        Use specific keywords like "email", "code", "analysis"
                                    </li>
                                    <li class="flex items-start gap-2">
                                        <span class="text-primary mt-1">•</span>
                                        Try different variations of your search terms
                                    </li>
                                    <li class="flex items-start gap-2">
                                        <span class="text-primary mt-1">•</span>
                                        Look for prompts with similar use cases
                                    </li>
                                </ul>
                            </div>
                        </div>

                        <div>
                            <h3 class="text-lg font-semibold mb-3 flex items-center gap-2 text-foreground">
                                @((MarkupString)SvgIcons.Eye.Replace("h-4 w-4", "h-5 w-5"))
                                Understanding Prompt Cards
                            </h3>
                            <div class="p-4 bg-card border border-border rounded-lg">
                                <div class="flex items-start justify-between mb-2">
                                    <h4 class="font-medium text-foreground">Example Prompt Card</h4>
                                    <span class="px-2 py-1 bg-gradient-to-r from-pink-50 to-rose-50 dark:from-pink-900/20 dark:to-rose-900/20 text-pink-700 dark:text-pink-300 border border-pink-200 dark:border-pink-800 rounded text-xs">Marketing</span>
                                </div>
                                <p class="text-sm text-muted-foreground mb-3">Brief description of what this prompt does...</p>
                                <div class="flex gap-2">
                                    <span class="px-2 py-1 bg-muted text-muted-foreground rounded text-xs">#email</span>
                                    <span class="px-2 py-1 bg-muted text-muted-foreground rounded text-xs">#campaign</span>
                                </div>
                            </div>
                        </div>
                    </div>
                }
                else if (activeTab == 2)
                {
                    <!-- Favorites & History Tab -->
                    <div class="space-y-6">
                        <div>
                            <h3 class="text-lg font-semibold mb-3 flex items-center gap-2 text-foreground">
                                @((MarkupString)SvgIcons.Heart.Replace("h-4 w-4", "h-5 w-5"))
                                Managing Your Favorites
                            </h3>
                            
                            <div class="mb-6">
                                <h4 class="font-medium mb-3 text-foreground">Adding to Favorites</h4>
                                <p class="text-sm text-muted-foreground mb-3">Save prompts you love for quick access:</p>
                                <div class="space-y-3">
                                    <div class="flex items-start gap-3">
                                        <span class="flex-shrink-0 w-6 h-6 bg-primary/10 text-primary rounded-full flex items-center justify-center text-sm font-medium">1</span>
                                        <p class="text-sm text-muted-foreground">Click the heart icon on any prompt card</p>
                                    </div>
                                    <div class="flex items-start gap-3">
                                        <span class="flex-shrink-0 w-6 h-6 bg-primary/10 text-primary rounded-full flex items-center justify-center text-sm font-medium">2</span>
                                        <p class="text-sm text-muted-foreground">The heart will turn red to indicate it's favorited</p>
                                    </div>
                                    <div class="flex items-start gap-3">
                                        <span class="flex-shrink-0 w-6 h-6 bg-primary/10 text-primary rounded-full flex items-center justify-center text-sm font-medium">3</span>
                                        <p class="text-sm text-muted-foreground">Click "Favorites" button to view all your saved prompts</p>
                                    </div>
                                </div>
                            </div>

                            <div class="mb-6">
                                <h4 class="font-medium mb-3 text-foreground">Viewing History</h4>
                                <p class="text-sm text-muted-foreground mb-3">Track your recently viewed prompts:</p>
                                <ul class="space-y-2 text-sm text-muted-foreground">
                                    <li class="flex items-start gap-2">
                                        <span class="text-primary mt-1">•</span>
                                        Every prompt you click is automatically added to your history
                                    </li>
                                    <li class="flex items-start gap-2">
                                        <span class="text-primary mt-1">•</span>
                                        Click "History" button to see your recent activity
                                    </li>
                                    <li class="flex items-start gap-2">
                                        <span class="text-primary mt-1">•</span>
                                        History helps you quickly return to prompts you've used before
                                    </li>
                                </ul>
                            </div>
                        </div>

                        <div>
                            <h3 class="text-lg font-semibold mb-3 flex items-center gap-2 text-foreground">
                                @((MarkupString)SvgIcons.Star.Replace("h-4 w-4", "h-5 w-5"))
                                Rating Prompts
                            </h3>
                            <p class="text-sm text-muted-foreground mb-3">Help the community by rating prompts:</p>
                            <ul class="space-y-2 text-sm text-muted-foreground">
                                <li class="flex items-start gap-2">
                                    <span class="text-primary mt-1">•</span>
                                    Click the star icon on any prompt card
                                </li>
                                <li class="flex items-start gap-2">
                                    <span class="text-primary mt-1">•</span>
                                    Rate prompts from 1-5 stars based on quality and usefulness
                                </li>
                                <li class="flex items-start gap-2">
                                    <span class="text-primary mt-1">•</span>
                                    Your ratings help others find high-quality prompts
                                </li>
                            </ul>
                        </div>
                    </div>
                }
                else if (activeTab == 3)
                {
                    <!-- Create & Manage Tab -->
                    <div class="space-y-6">
                        <div>
                            <h3 class="text-lg font-semibold mb-3 flex items-center gap-2 text-foreground">
                                @((MarkupString)SvgIcons.Plus.Replace("h-4 w-4", "h-5 w-5"))
                                Creating Custom Prompts
                            </h3>
                            
                            <div class="mb-6">
                                <h4 class="font-medium mb-3 text-foreground">How to Create</h4>
                                <p class="text-sm text-muted-foreground mb-3">Add your own prompts to the library:</p>
                                <div class="space-y-3">
                                    <div class="flex items-start gap-3">
                                        <span class="flex-shrink-0 w-6 h-6 bg-primary/10 text-primary rounded-full flex items-center justify-center text-sm font-medium">1</span>
                                        <p class="text-sm text-muted-foreground">Click the "Create" button in the top action bar</p>
                                    </div>
                                    <div class="flex items-start gap-3">
                                        <span class="flex-shrink-0 w-6 h-6 bg-primary/10 text-primary rounded-full flex items-center justify-center text-sm font-medium">2</span>
                                        <p class="text-sm text-muted-foreground">Fill in the required fields: title, content, and category</p>
                                    </div>
                                    <div class="flex items-start gap-3">
                                        <span class="flex-shrink-0 w-6 h-6 bg-primary/10 text-primary rounded-full flex items-center justify-center text-sm font-medium">3</span>
                                        <p class="text-sm text-muted-foreground">Add optional details like tags, difficulty level, and usage notes</p>
                                    </div>
                                    <div class="flex items-start gap-3">
                                        <span class="flex-shrink-0 w-6 h-6 bg-primary/10 text-primary rounded-full flex items-center justify-center text-sm font-medium">4</span>
                                        <p class="text-sm text-muted-foreground">Save your prompt to add it to the library</p>
                                    </div>
                                </div>
                            </div>

                            <div class="mb-6">
                                <h4 class="font-medium mb-3 text-foreground">Using Placeholders</h4>
                                <p class="text-sm text-muted-foreground mb-3">Make your prompts dynamic with placeholders:</p>
                                <div class="p-4 bg-card border border-border rounded-lg">
                                    <p class="text-sm text-muted-foreground">
                                        Example: "Write a [type] email to [audience] about [topic]"<br><br>
                                        When someone uses this prompt, they can fill in:<br>
                                        • <span class="bg-yellow-100 dark:bg-yellow-900 px-1 rounded">[type]</span> → "marketing", "follow-up", "thank you"<br>
                                        • <span class="bg-yellow-100 dark:bg-yellow-900 px-1 rounded">[audience]</span> → "customers", "team members", "clients"<br>
                                        • <span class="bg-yellow-100 dark:bg-yellow-900 px-1 rounded">[topic]</span> → "product launch", "meeting", "update"
                                    </p>
                                </div>
                            </div>

                            <div>
                                <h4 class="font-medium mb-3 text-foreground">Export & Import</h4>
                                <p class="text-sm text-muted-foreground mb-3">Manage your prompt collections:</p>
                                <ul class="space-y-2 text-sm text-muted-foreground">
                                    <li class="flex items-start gap-2">
                                        <span class="text-primary mt-1">•</span>
                                        Click "Export/Import" to backup your favorites
                                    </li>
                                    <li class="flex items-start gap-2">
                                        <span class="text-primary mt-1">•</span>
                                        Export prompts as JSON for sharing or backup
                                    </li>
                                    <li class="flex items-start gap-2">
                                        <span class="text-primary mt-1">•</span>
                                        Import prompts from other users or previous exports
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                }
                else if (activeTab == 4)
                {
                    <!-- Tips & Tricks Tab -->
                    <div class="space-y-6">
                        <div>
                            <h3 class="text-lg font-semibold mb-3 flex items-center gap-2 text-foreground">
                                @((MarkupString)SvgIcons.Lightbulb.Replace("h-4 w-4", "h-5 w-5"))
                                Pro Tips for Better Results
                            </h3>
                            
                            <div class="mb-6">
                                <h4 class="font-medium mb-3 text-foreground">Getting Better AI Responses</h4>
                                <ul class="space-y-2 text-sm text-muted-foreground">
                                    <li class="flex items-start gap-2">
                                        <span class="text-primary mt-1">•</span>
                                        Be specific: Fill in placeholders with detailed, specific information
                                    </li>
                                    <li class="flex items-start gap-2">
                                        <span class="text-primary mt-1">•</span>
                                        Provide context: The more context you give, the better the AI response
                                    </li>
                                    <li class="flex items-start gap-2">
                                        <span class="text-primary mt-1">•</span>
                                        Iterate: Try different variations of the same prompt
                                    </li>
                                    <li class="flex items-start gap-2">
                                        <span class="text-primary mt-1">•</span>
                                        Combine prompts: Use multiple prompts together for complex tasks
                                    </li>
                                </ul>
                            </div>

                            <div class="mb-6">
                                <h4 class="font-medium mb-3 text-foreground">Keyboard Shortcuts</h4>
                                <ul class="space-y-2 text-sm text-muted-foreground">
                                    <li class="flex items-start gap-2">
                                        <span class="text-primary mt-1">•</span>
                                        Ctrl+S Save when editing prompts
                                    </li>
                                    <li class="flex items-start gap-2">
                                        <span class="text-primary mt-1">•</span>
                                        Esc Close modals and cancel editing
                                    </li>
                                    <li class="flex items-start gap-2">
                                        <span class="text-primary mt-1">•</span>
                                        Ctrl+F Focus on search bar
                                    </li>
                                </ul>
                            </div>

                            <div class="mb-6">
                                <h4 class="font-medium mb-3 text-foreground">Best Practices</h4>
                                <ul class="space-y-2 text-sm text-muted-foreground">
                                    <li class="flex items-start gap-2">
                                        <span class="text-primary mt-1">•</span>
                                        Test first: Try prompts with simple examples before using for important tasks
                                    </li>
                                    <li class="flex items-start gap-2">
                                        <span class="text-primary mt-1">•</span>
                                        Save favorites: Bookmark prompts you use frequently
                                    </li>
                                    <li class="flex items-start gap-2">
                                        <span class="text-primary mt-1">•</span>
                                        Customize gradually: Start with the original prompt, then customize as needed
                                    </li>
                                    <li class="flex items-start gap-2">
                                        <span class="text-primary mt-1">•</span>
                                        Review output: Always review AI-generated content before using it
                                    </li>
                                </ul>
                            </div>

                            <div>
                                <h4 class="font-medium mb-3 text-foreground">Need More Help?</h4>
                                <p class="text-sm text-muted-foreground">If you have questions or suggestions, we'd love to hear from you! Use the feedback features in the app or contact our support team.</p>
                            </div>
                        </div>
                    </div>
                }
            </div>
            
            <!-- Footer -->
            <div class="p-6 border-t border-border flex justify-end">
                <button @onclick="CloseModal" class="btn-primary px-4 py-2 flex items-center gap-2">
                    @((MarkupString)SvgIcons.X)
                    Close
                </button>
            </div>
        </div>
    </div>
}
